//
//  ContentView.swift
//  MyDiaryApp
//
//  Created by Groo on 4/15/24.
//

import SwiftUI

struct ContentView: View {
    @State var diaries = [
        Diary(date: ContentView.dateFormat.date(from: "2024/04/16")!, title: "ê±´.ëœ¨.", emoji: "ğŸ§¶", paragraph: ["ë§¤ì¼ ëœ¨ê°œì§ˆì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ëœ¨ê°œì§ˆ í•´ì•¼ì§€. ë§¤ì¼ ëœ¨ê°œì§ˆì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ëœ¨ê°œì§ˆ í•´ì•¼ì§€. ë§¤ì¼ ëœ¨ê°œì§ˆì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ëœ¨ê°œì§ˆ í•´ì•¼ì§€...", "ë§¤ì¼ ëœ¨ê°œì§ˆì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ëœ¨ê°œì§ˆ í•´ì•¼ì§€. ë§¤ì¼ ëœ¨ê°œì§ˆì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ëœ¨ê°œì§ˆ í•´ì•¼ì§€. ë§¤ì¼ ëœ¨ê°œì§ˆì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ëœ¨ê°œì§ˆ í•´ì•¼ì§€."]),
        Diary(date: ContentView.dateFormat.date(from: "2024/04/9")!, title: "ìˆ˜ì˜ì¥", emoji: "ğŸŒŠ", paragraph: ["ë§¤ì¼ ìˆ˜ì˜ì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ìˆ˜ì˜ í•´ì•¼ì§€. ë§¤ì¼ ìˆ˜ì˜ì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ìˆ˜ì˜ í•´ì•¼ì§€. ë§¤ì¼ ìˆ˜ì˜ì„ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ìˆ˜ì˜ í•´ì•¼ì§€."]),
        Diary(date: ContentView.dateFormat.date(from: "2024/04/01")!, title: "ìœ ë„ ê°•ë„", emoji: "ğŸ¥‹", paragraph: ["ë§¤ì¼ ìœ ë„ë¥¼ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ìœ ë„ í•´ì•¼ì§€. ë§¤ì¼ ìœ ë„ë¥¼ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ìœ ë„ í•´ì•¼ì§€. ë§¤ì¼ ìœ ë„ë¥¼ í•˜ê³  ì‹¶ë‹¤. ë‚´ì¼ë„ ìœ ë„ í•´ì•¼ì§€."]),
    ]
    @State var isCalendarView = true
    static let dateFormat: DateFormatter = {
        let formatter = DateFormatter()
        formatter.dateFormat = "YYYY/M/d"
        return formatter
    }()
    var body: some View {
        NavigationStack {
            ZStack {
                VStack {
                    HStack {
                        ViewToggle(isCalendarView: $isCalendarView)
                    }
                    if isCalendarView {
                        CalendarDiaryView()
                    } else {
                        ListDiaryView(diaries: $diaries)
                    }
                }
                FixedView(diaries: $diaries)
            }
        }
        
    }
}

#Preview {
    ContentView()
}
